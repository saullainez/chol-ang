<div class="row">
  <div class="col-lg-12">
    <mat-form-field>
      <mat-label>Filtro de busqueda</mat-label>
      <input matInput (keyup)="applyFilter($event)" #input>
    </mat-form-field>

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z12" style="width: 100%;">

      <div *ngFor="let column of columns">
        <ng-container matColumnDef="{{column.def}}" *ngIf="column.type === 'input'">
          <th mat-header-cell *matHeaderCellDef>{{ column.header }}</th>
          <td [satPopoverAnchor]="p" mat-cell *matCellDef="let element" (click)="p.open()" class="pointer">
            {{ column.cell(element) }}
            <sat-popover #p xAlign="start" yAlign="start" hasBackdrop backdropClass="blue" (closed)="update(element, column.def, $event)">
              <app-emergent-input class="text-center" [value]="column.cell(element)"></app-emergent-input>
            </sat-popover>
          </td>
        </ng-container>
        <ng-container matColumnDef="{{column.def}}" *ngIf="column.type === 'datepicker'">
          <th mat-header-cell *matHeaderCellDef>{{ column.header }}</th>
          <td [satPopoverAnchor]="p" mat-cell *matCellDef="let element" (click)="p.open()" class="pointer">
            {{ column.cell(element) }}
            <sat-popover #p xAlign="start" yAlign="start" hasBackdrop backdropClass="blue" (closed)="update(element, column.def, $event)">
              <app-emergent-datepicker class="text-center" [value]="column.cell(element)"></app-emergent-datepicker>
            </sat-popover>
          </td>
        </ng-container>
      </div>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No existen datos que filtrar "{{input.value}}"</td>
      </tr>
    </table>

    <mat-paginator [pageSize]="10" [pageSizeOptions]="[10, 20]"></mat-paginator>
  </div>
</div>
